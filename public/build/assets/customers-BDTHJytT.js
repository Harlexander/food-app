import{r as v,j as e,H as b,L as j,a as w}from"./app-BssriHM9.js";import{C as t,a as r,b as n,c as l,d as N}from"./card-COzRdBb3.js";import{B as _}from"./badge-ji_O_8um.js";import{a as x,B as g}from"./createLucideIcon-DrvUrgJz.js";import{A as C,U as k}from"./app-layout-CVoHY7hz.js";import{d as S}from"./index-Dy8xfSGP.js";import{I as M}from"./input-Cg7nFZET.js";import{F as D}from"./filter-C9TxYzep.js";import{U as L,M as U}from"./user-pkQKrWps.js";import{M as I,P as B}from"./phone-BvjycI1Y.js";import{S as F}from"./index-DCAP9Q7S.js";/* empty css            */import"./index-DthGpgim.js";import"./index-B6hd3UuI.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],T=x("ArrowRight",R);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],H=x("Calendar",A);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],$=x("Search",P),q=[{title:"Dashboard",href:S().url},{title:"Customers",href:"/dashboard/customers"}];function ae({customers:a,stats:i,filters:m}){const o=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD",minimumFractionDigits:2}).format(s),h=s=>s?new Date(s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",[c,p]=v.useState(m.search||""),f=(s,d)=>{w.get("/dashboard/customers",{...m,[s]:d},{preserveState:!0,replace:!0})},u=s=>{s.preventDefault(),f("search",c)},y=()=>{p(""),f("search","")};return e.jsxs(C,{breadcrumbs:q,children:[e.jsx(b,{title:"Customers Management"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-4 md:p-6",children:[e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("h1",{className:"sm:text-3xl text-2xl font-bold",children:"Customers"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Manage and view all customer information"})]}),e.jsxs("div",{className:"flex gap-4 items-center justify-between overflow-x-auto",children:[e.jsxs(t,{className:"flex-1 min-w-[200px]",children:[e.jsx(r,{className:"pb-2",children:e.jsx(n,{className:"text-sm",children:"Total Customers"})}),e.jsx(l,{children:e.jsx("div",{className:"text-3xl font-bold",children:i.total})})]}),e.jsxs(t,{className:"flex-1 min-w-[200px]",children:[e.jsx(r,{className:"pb-2",children:e.jsx(n,{className:"text-sm",children:"With Orders"})}),e.jsx(l,{children:e.jsx("div",{className:"text-3xl font-bold text-green-600",children:i.with_orders})})]}),e.jsxs(t,{className:"flex-1 min-w-[200px]",children:[e.jsx(r,{className:"pb-2",children:e.jsx(n,{className:"text-sm",children:"No Orders"})}),e.jsx(l,{children:e.jsx("div",{className:"text-3xl font-bold text-gray-400",children:i.without_orders})})]}),e.jsxs(t,{className:"flex-1 min-w-[200px]",children:[e.jsx(r,{className:"pb-2",children:e.jsx(n,{className:"text-sm",children:"Total Revenue"})}),e.jsx(l,{children:e.jsx("div",{className:"text-3xl font-bold",children:o(i.total_spent)})})]})]}),e.jsxs(t,{className:"border-0 shadow-sm",children:[e.jsx(r,{children:e.jsxs(N,{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx("div",{className:"bg-primary/20 text-primary rounded p-2",children:e.jsx(D,{className:"h-5 w-5"})}),"Search Customers"]})}),e.jsx(l,{children:e.jsx("div",{className:"flex flex-wrap gap-4",children:e.jsx("form",{onSubmit:u,className:"flex-1 min-w-[300px]",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx($,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),e.jsx(M,{type:"text",placeholder:"Search by name or email...",value:c,onChange:s=>p(s.target.value),className:"pl-10"}),c&&e.jsx("button",{type:"button",onClick:y,className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",children:"Ã—"})]}),e.jsx(g,{type:"submit",variant:"outline",children:"Search"})]})})})})]}),e.jsxs(t,{className:"border-0 shadow-sm",children:[e.jsxs(r,{children:[e.jsx(N,{className:"text-lg font-semibold",children:"Customer List"}),e.jsxs(n,{children:[a.data.length," ",a.data.length===1?"customer":"customers"," found"]})]}),e.jsxs(l,{children:[a.data.length===0?e.jsxs("div",{className:"text-center py-12",children:[e.jsx(k,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:"text-gray-500",children:"No customers found"})]}):e.jsx("div",{className:"space-y-3",children:a.data.map(s=>e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 p-4 rounded-lg border border-gray-100 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-start gap-3 md:gap-4 flex-1 min-w-0",children:[e.jsx("div",{className:"bg-primary/20 text-primary rounded p-2 flex-shrink-0",children:e.jsx(L,{className:"h-5 w-5"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 mb-2",children:[e.jsx("span",{className:"text-sm md:text-base font-semibold truncate",children:s.name}),s.orders_count>0&&e.jsxs(_,{variant:"outline",className:"text-xs w-fit",children:[s.orders_count," ",s.orders_count===1?"order":"orders"]})]}),e.jsxs("div",{className:"flex flex-col gap-2 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1 min-w-0",children:[e.jsx(I,{className:"h-3 w-3 flex-shrink-0"}),e.jsx("span",{className:"truncate",children:s.email})]}),s.phone&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(B,{className:"h-3 w-3 flex-shrink-0"}),e.jsx("span",{children:s.phone})]}),(s.address||s.city)&&e.jsxs("div",{className:"flex items-start gap-1",children:[e.jsx(U,{className:"h-3 w-3 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"break-words",children:[s.address,s.city,s.state].filter(Boolean).join(", ")})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 mt-2 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(H,{className:"h-3 w-3 flex-shrink-0"}),e.jsxs("span",{children:["Joined: ",h(s.created_at)]})]}),s.last_order_date&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(F,{className:"h-3 w-3 flex-shrink-0"}),e.jsxs("span",{children:["Last order: ",h(s.last_order_date)]})]})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row md:flex-col lg:flex-row items-start sm:items-center md:items-end lg:items-center gap-3 md:gap-4 flex-shrink-0",children:[s.orders_count>0?e.jsxs("div",{className:"text-left sm:text-right md:text-right",children:[e.jsx("div",{className:"text-lg font-bold",children:o(s.total_spent)}),e.jsx("div",{className:"text-xs text-gray-500",children:"Total spent"})]}):e.jsx("div",{className:"text-sm text-gray-400",children:"No orders yet"}),s.orders_count>0&&e.jsx(j,{href:`/dashboard/orders?search=${encodeURIComponent(s.email)}`,className:"w-full sm:w-auto",children:e.jsxs(g,{variant:"outline",size:"sm",className:"gap-2 w-full sm:w-auto",children:["View Orders",e.jsx(T,{className:"h-4 w-4"})]})})]})]},s.id))}),a.links&&a.links.length>3&&e.jsx("div",{className:"flex items-center justify-center gap-2 mt-6",children:a.links.map((s,d)=>e.jsx(j,{href:s.url||"#",className:`px-3 py-2 rounded-md text-sm ${s.active?"bg-green-500 text-white":s.url?"bg-gray-100 hover:bg-gray-200":"bg-gray-50 text-gray-400 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:s.label}},d))})]})]})]})]})}export{ae as default};
